<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create Certificate - CertifyMe</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.1/css/all.min.css">
    <link rel="stylesheet" href="create.css"> <!-- Link to create.css -->
     <!-- Google Font -->
     <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <header>
        <div class="navbar" role="navigation">
            <div class="navlinks">
                <a href="index.html" id="brand_name">CertifyMe</a>
                <a href="index.html">Home</a>
                <a href="create.html">Generate Certificate</a>
                <a href="index.html#Templates">Templates</a>  <!-- Link back to templates on index.html -->
                <a href="index.html#Contact Us">Contact Us</a>
            </div>
            <div class="auth-links">
               <!-- This section will be dynamically updated by create.js -->
                <a href="#" id="loginBtn" onclick="openAuthModal('login')">Login</a>
                <a href="#" id="signupBtn" onclick="openAuthModal('signup')">Sign Up</a>
                <div id="userProfile" class="hidden">
                    <span id="usernameDisplay"></span>
                     <div class="dropdown"> <!-- Added Dropdown -->
                         <i class="fas fa-user-circle"></i>
                        <div class="dropdown-content">
                           <a href="#" id="dashboardLink">Dashboard</a>  <!-- Added onclick -->
                            <a href="#" id="logoutBtn" onclick="handleLogout()">Logout</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>
    <!-- Authentication Modal (Login/Signup) -->
    <div id="authModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeAuthModal()">×</span>
            <h2 id="modalTitle">Login</h2>
             <!-- Login Form -->
            <form id="loginForm" class="authForm" onsubmit="handleLogin(event)">
                <label for="loginEmail">Email:</label>
                <input type="email" id="loginEmail" name="email" placeholder="Enter your email" required>

                <label for="loginPassword">Password:</label>
                <input type="password" id="loginPassword" name="password" placeholder="Enter your password" required>

                <button type="submit">Login</button>
                <p id="switchFormText">Don't have an account? <a href="#" onclick="switchToSignup()">Signup</a></p>
                 <div id="loginError" class="error-message"></div> <!-- For Login Errors -->
            </form>

            <!-- Signup Form -->
            <form id="signupForm" class="authForm hidden" onsubmit="handleSignup(event)">
                <label for="signupName">Name:</label>
                <input type="text" id="signupName" name="name" placeholder="Enter your name" required>

                <label for="signupEmail">Email:</label>
                <input type="email" id="signupEmail" name="email" placeholder="Enter your email" required>

                <label for="signupPassword">Password:</label>
                <input type="password" id="signupPassword" name="password" placeholder="Enter your password" required>

                <button type="submit">Sign Up</button>
                <p>Already have an account? <a href="#" onclick="switchToLogin()">Login</a></p>
                 <div id="signupError" class="error-message"></div> <!-- For Signup Errors -->
            </form>
        </div>
    </div>
  <!-- Section to Display Certificates (Dashboard)-->
    <div class="Section_Certificates hidden" id="dashboardSection">
        <h1>My Certificates</h1>
        <div id="userCertificates">
            <!-- Certificates will be displayed here -->
        </div>
    </div>

    <main id="createMain">  <!-- Added a main element for clarity -->
        <section class="templates_section" id="Templates">
            <h1>Create Your Certificate</h1>
            <p>Select a template, enter your details, and click "Create Certificate" to download or print your files.</p>
             <div class="Templates_Container">
                <!-- Templates will be loaded here by JavaScript -->

            </div>
            <form id="certificateForm" class="certificate_form" >
                <input type="hidden" id="selectedTemplateId" name="template_id" value="1">
                <label for="inputName">Name:</label>
                <input type="text" id="inputName" name="name" placeholder="Enter Your Name" required>

                <label for="inputDate">Date:</label>
                <input type="date" id="inputDate" name="date" required>

                <label for="inputSignature">Signature:</label>
                <input type="text" id="inputSignature" name="signature" placeholder="Enter Signature" required>

                <label for="inputDetails">Details:</label>
                <textarea id="inputDetails" name="details" rows="5" placeholder="Enter Details" required></textarea>

                <button type="submit" id="createButton">Create Certificate</button>
                 <div id="certificateFormError" class="error-message"></div>
            </form>
        </section>

        <section class="displayCertificateDiv hidden">
            <h1>Your Certificate is Ready</h1>
            <div class="generatedCertificate" id="certificateBackground">
                <h2 id="certificateName"></h2>
                <p id="certificateDate"></p>
                <p id="certificateSignature"></p>
                <p id="certificateDetails"></p>
            </div>
            <div id="downloadOption">
                <label for="fileFormat">Choose file format:</label>
                <select id="fileFormat">
                    <option value="jpg">JPG</option>
                    <option value="pdf">PDF</option>
                </select>
                <button id="downloadButton" >Download Certificate</button>
            </div>
        </section>


    </main>

    <footer>
        <!-- Footer content (same as index.html) -->
         <div class="footer_section" id="contact_us">
            <h1>Get in Touch</h1>
            <p>If you’d like to chat about a project or just say hello, feel free to drop a message!</p>
            <div class="footer_container">
                <div id="user_info" class="footer_box">
                    <label for="Your Name">Your Name</label>
                    <input type="text" placeholder="Enter Your Name">
                    <label for="Your Email">Your email</label>
                    <input type="email" placeholder="Enter Your email">
                    <label for="Your Message">Your Message</label>
                    <textarea name="Message" id="text" rows="5" placeholder="Type Your Message here"></textarea>
                    <button>Send Message</button>
                </div>
                <div id="my_info" class="footer_box">
                    <h1>Let's Connect</h1>
                    <p>Follow me on social media or drop me an email!</p>
                    <div class="icon_container">
                        <div class="icon">
                            <div class="icon_img">
                                <img src="assets/linkedin.png" alt="LinkedIn">
                            </div>
                            <p>Facebook</p>
                        </div>
                        <div class="icon">
                            <div class="icon_img">
                                <img src="assets/github.png" alt="GitHub">
                            </div>
                            <p>GitHub</p>
                        </div>
                        <div class="icon">
                            <div class="icon_img">
                                <img src="assets/twitter.png" alt="Twitter">
                            </div>
                            <p>Twitter</p>
                        </div>
                        </div>
                    <p>Email: <a href="#ahmarsaim58@gmail.com" type="email">ahmarsaim58@gmail.com</a></p>
                </div>
            </div>
            <pre>Made with <i class="fa-solid fa-heart"></i> by Abdul Wahab Saim & Muhammad Rehan</pre>
        </div>
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.4.0/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="create.js"></script> <!-- Link to create.js -->
</body>
</html>